(this["webpackJsonpwebapp-journey-builder"]=this["webpackJsonpwebapp-journey-builder"]||[]).push([[0],{192:function(e,n,t){},193:function(e,n,t){},196:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(72),i=t.n(r),c=(t(83),t(76)),d=(t(84),t(77));t(85);function s(e){var n=e.yes,t=e.no;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"block-condition"},o.a.createElement("div",{className:"block-condition__branch yes"},n&&o.a.createElement(l,Object.assign({key:n.id},e,{structure:n}))),o.a.createElement("div",{className:"block-condition__branch no"},t&&o.a.createElement(l,Object.assign({key:t.id},e,{structure:t})))))}function l(e){var n=e.structure,t=n.method,a=n.next,r=n.yes,i=n.no,c=n.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"block"},o.a.createElement("div",{className:"block__content"},o.a.createElement("p",{className:"delete",onClick:function(){return e.onDelete(c)}}," X "),o.a.createElement("p",null," ",t," ")),"condition"===t?o.a.createElement("div",{className:"add-condition"},o.a.createElement("div",{className:"add-condition__choice yes",onClick:function(){return e.onAdd(c,"yes")}},"Yes +"),o.a.createElement("div",{className:"add-condition__choice no",onClick:function(){return e.onAdd(c,"no")}},"No +")):o.a.createElement("div",{className:"add",onClick:function(){return e.onAdd(c,"next")}},"+")),"condition"===t&&(r||i)&&o.a.createElement(s,Object.assign({key:c},e,{yes:r,no:i})),"condition"!==t&&a&&o.a.createElement(l,Object.assign({key:a.id},e,{structure:a})))}var m=["next","yes","no"];function u(e,n,t){var a=function e(n,t){if(n.id===t)return n;var a,o;for(o in n)if(m.includes(o)&&n.hasOwnProperty(o)&&"object"===typeof n[o]&&(a=e(n[o],t)))return a}(e,n),o={id:"_"+Math.random().toString(36).substr(2,9),method:"NEW",next:void 0};o.next=a[t],a[t]=o}function h(e,n){if(n!==e.id){var t=function e(n,t){if("condition"===n.method){if(n.hasOwnProperty("yes")&&n.yes&&n.yes.id===t)return n;if(n.hasOwnProperty("no")&&n.no&&n.no.id===t)return n}else if(n.hasOwnProperty("next")&&n.next&&n.next.id===t)return n;var a,o;for(o in n)if(m.includes(o)&&n.hasOwnProperty(o)&&"object"===typeof n[o]&&(a=e(n[o],t)))return a}(e,n);t.hasOwnProperty("next")?t.next=void 0:t.hasOwnProperty("yes")&&t.yes&&t.yes.id===n?t.yes=void 0:t.no=void 0}else alert("you cannot delete the root")}var f=t(73),y=t.n(f);function v(e){return o.a.createElement(y.a,{theme:"monokai",shouldExpandNode:function(e){return!0},data:e.mapping})}t(192);function E(){var e={id:1,method:"trigger",data:{},next:{id:2,method:"email",data:{},next:{id:3,method:"condition",data:{},yes:{id:4,method:"email",data:{},next:{id:5,method:"delay2 ",data:{},next:void 0}},no:{id:6,method:"delay",data:{},next:{id:7,method:"condition",data:{},yes:{id:8,method:"webhook",data:{},next:void 0},no:{id:9,method:"experience",data:{},next:void 0}}}}}},n=Object(a.useState)(e),t=Object(d.a)(n,2),r=t[0],i=t[1];return o.a.createElement("div",{className:"journey-builder"},o.a.createElement("div",{className:"journey-diagram"},o.a.createElement("div",{className:"center"},o.a.createElement(l,{structure:r,onAdd:function(e,n){u(r,e,n),i(Object.assign({},r))},onDelete:function(e){h(r,e),i(Object.assign({},r))}}))),o.a.createElement("div",{className:"json-viewer"},o.a.createElement(v,{mapping:r})))}t(193);function p(){return o.a.createElement("div",{className:"Home"},o.a.createElement("h2",null," Journey Builder Proof of Concept "),o.a.createElement(E,null))}var b=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(c.c,null,o.a.createElement(c.a,{path:"/",component:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(6),g=Object(x.a)();i.a.render(o.a.createElement(c.b,{history:g},o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,n,t){e.exports=t(196)},83:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.9475d60f.chunk.js.map